; =================================================================
; CrewChiefSteve Mock Firmware â€” BLE Protocol v2
; Target: ESP32-C3 (single-core RISC-V)
; Stack: NimBLE (lightweight BLE for C3) + ArduinoJson
; =================================================================

[env:esp32c3]
platform = espressif32
board = esp32-c3-devkitm-1
framework = arduino
lib_deps = 
    h2zero/NimBLE-Arduino@^1.4.0
    bblanchon/ArduinoJson@^6.21.0
monitor_speed = 115200
upload_speed = 921600

build_flags = 
    ; --- NimBLE role config (disable unused to save ~30KB RAM) ---
    -D CONFIG_BT_NIMBLE_ROLE_PERIPHERAL=1
    -D CONFIG_BT_NIMBLE_ROLE_BROADCASTER=1
    -D CONFIG_BT_NIMBLE_ROLE_CENTRAL=0
    -D CONFIG_BT_NIMBLE_ROLE_OBSERVER=0
    ; --- NimBLE tuning ---
    -D CONFIG_BT_NIMBLE_MAX_CONNECTIONS=3
    -D CONFIG_BT_NIMBLE_ATT_PREFERRED_MTU=512
    ; --- App config (override via build flags or serial at runtime) ---
    ; -D MOCK_DEFAULT_DEVICE=0    ; 0=Heater, 1=Scale, 2=RH, 3=Probe, 4=Gun
    ; -D MOCK_DEFAULT_CORNER=0    ; 0=LF, 1=RF, 2=LR, 3=RR
